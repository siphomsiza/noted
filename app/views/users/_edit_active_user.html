<div class="modal-dialog">
<div class="modal-content">
<div class="modal-header">
  <h3><%= "Editing #{@user.firstname}" %></h3>
</div>
<div class="modal-body">
<div class="row">
    <div class="col-lg-10 col-md-offset-1">

        <div class="tab-pane active" class="newuserform" id="add_user">
        <section class="media">
          <div class="media-body">
      <%= form_for(@user) do |f| %>
        <%= render 'shared/error_messages', object: @user %>

          <fieldset id="userinfo">
            <legend>User Info</legend>

            <section class="row">
            <label class="col col-lg-4 control-label" for="title">Title</label>
              <div class="controls col col-lg-8">
                <%= f.select :title, options_for_select(["Dr.", "Miss.", "Mr.", "Mrs.", "Ms.", "Prof.", "Rev."], prompt: true),
                 {:include_blank => "Select Title"}, class: "form-control" %>
              </div><!-- controls -->
            </section><!-- row -->
            <section class="row">
                <label class="col col-lg-4 control-label" for="firstname">First Name</label>
                <div class="controls col col-lg-8">
                  <%= f.text_field :firstname, :class => "form-control" , :autocomplete=>"off",:placeholder=>"First Name" %>

                </div><!-- controls -->
              </section><!-- row -->

              <section class="row">
                <label class="col col-lg-4 control-label" for="lastname">Surname</label>
                <div class="controls col col-lg-8">
                  <%= f.text_field :surname,:autocomplete=>"off",:placeholder=>"Last Name", :class => "form-control" %>
                </div><!-- controls -->
              </section><!-- row -->


          </fieldset><!-- personal info -->

          <fieldset id="systeminfo">
            <legend>System Info</legend>
            <section class="row">
              <label class="col col-lg-4 control-label" for="password">Password</label>
              <div class="controls col col-lg-8">
                 <%= f.password_field :password, class: 'form-control' %>

              </div><!-- controls -->
            </section><!-- row -->
            <section class="row">
              <label class="col col-lg-4 control-label" for="confirmpassword">Confirm Password</label>
              <div class="controls col col-lg-8">
                 <%= f.password_field :password_confirmation, class: 'form-control' %>
              </div><!-- controls -->
            </section><!-- row -->
              <% if current_user.admin? && !current_user?(@user)  %>
              <label class="col col-lg-4 control-label" for="systemadministrator">System Administrator</label>
              <div class="controls col col-lg-8">

                <%= f.label :admin, class: "checkbox inline" do %>
                <%= f.check_box :admin, :id=>'admin_checkbox'%>
                <% end %><% end %>
         </div><!-- controls -->
          </fieldset><!-- system info -->

          <fieldset id="employmentinfo">
            <legend>Employment Info</legend>
            <section class="row">
              <label class="col col-lg-4 control-label" for="employeenumber">Employee Number</label>
              <div class="controls col col-lg-8">
               <%= f.text_field :employee_number, :class=>"form-control", :autocomplete=>"off",:placeholder=>"Employee Number" %>
              </div><!-- controls -->
            </section><!-- row -->

            <section class="row">
              <label class="col col-lg-4 control-label" for="employmentdate">Employment Date</label>
              <div class="controls col col-lg-8">
              <div class="col-md-11"><%= date_field(:start_date, nil,placeholder: '--Select Start Date--',:class => 'form-control') %>
           </div>
              </div><!-- controls -->
            </section><!-- row -->

            <section class="row">
            <label class="col col-lg-4 control-label" for="jobtitle">Job Title</label>
              <div class="controls col col-lg-8">
                <%= f.select :job_title, Jobtitle.all.collect {|x| [x.title, x.title]}, {:include_blank => "Select Job Title"}, class: "form-control" %>
              </div><!-- controls -->
            </section><!-- row -->

            <section class="row">
            <label class="col col-lg-4 control-label" for="department">Department</label>
              <div class="controls col col-lg-8">
               <%= f.select :department_id, Department.all.collect {|x| [x.name, x.id]}, {:include_blank => "Select Department"}, class: "form-control" %>

              </div><!-- controls -->
            </section><!-- row -->

            <section class="row">
            <label class="col col-lg-4 control-label" for="location">Location</label>
              <div class="controls col col-lg-8">
                <%= f.text_field :location, :class=>"form-control" , :autocomplete=>"off",:placeholder=>"Location" %>

              </div><!-- controls -->
            </section><!-- row -->

            <section class="row">
            <label class="col col-lg-4 control-label" for="manager">Manager</label>
              <div class="controls col col-lg-8">
                <%= f.select :manager, User.all.collect {|x| [x.firstname, x.email]}, {:include_blank => "Select Manager"}, class: "form-control" %>
              </div><!-- controls -->
            </section><!-- row -->

          </fieldset><!-- employment info -->

          <fieldset id="contactdetails">
            <legend>Contact Details</legend>
            <section class="row">
              <label class="col col-lg-4 control-label" for="countryprefix">Country Prefix</label>
              <div class="controls col col-lg-8">
                <%= f.text_field :country_prefix, :class=>"form-control" , :autocomplete=>"off",:placeholder=>"+27" %>
              </div><!-- controls -->
            </section><!-- row -->

            <section class="row">
              <label class="col col-lg-4 control-label" for="landline">Landline/Office</label>
              <div class="controls col col-lg-8">
                <%= f.text_field :landline, :class=>"form-control" , :autocomplete=>"off", :placeholder=>"(015) 234 2345" %>

              </div><!-- controls -->
            </section><!-- row -->

            <section class="row">
              <label class="col col-lg-4 control-label" for="mobile">Mobile/Cellphone</label>
              <div class="controls col col-lg-8">
                <%= f.text_field :mobile, :class=>"form-control" , :autocomplete=>"off", :placeholder=>"072 234 4567" %>
              </div><!-- controls -->
            </section><!-- row -->

            <section class="row">
              <label class="col col-lg-4 control-label" for="fax">Fax</label>
              <div class="controls col col-lg-8">
                <%= f.text_field :fax, :class=>"form-control" , :autocomplete=>"off", :placeholder=>"086 845 6273" %>

              </div><!-- controls -->
            </section><!-- row -->

            <section class="row">
              <label class="col col-lg-4 control-label" for="email">Email</label>
              <div class="controls col col-lg-8">
                <%= f.email_field :email, class: "form-control", :autocomplete=>"off",:placeholder=>"email@example.com" %>
              </div><!-- controls -->
            </section><!-- row -->

          </fieldset><!-- contact details -->

          <fieldset id="statutoryrequirements">
            <legend>Statutory Requirements</legend>

            <section class="row">
            <label class="col col-lg-4 control-label" for="gender">Gender</label>
              <div class="controls col col-lg-8">
                <% if @user.new_record? %>
                <%= f.select :gender, options_for_select(["Female", "Male"]),
                {:include_blank => "Select Gender"}, class: "form-control" %>
                <% else %>
                  <label><%= @user.gender %></label>
                <% end %>
              </div><!-- controls -->
            </section><!-- row -->

            <section class="row">
            <label class="col col-lg-4 control-label" for="race">Race</label>
              <div class="controls col col-lg-8">
                <% if @user.new_record? %>
                <%= f.select :race, options_for_select(["African", "Coloured", "Indian", "White"]),
                {:include_blank => "Select Race"}, class: "form-control" %>
                <% else %>
                  <label><%= @user.race %></label>
                <% end %>
              </div><!-- controls -->
            </section><!-- row -->

            <section class="row">
            <label class="col col-lg-4 control-label" for="occupationalcategory">Occupational Category</label>
              <div class="controls col col-lg-8">
                <%= f.text_field :occupational_category, :class=>"form-control" , :autocomplete=>"off",:placeholder=>"Occupational Category" %>
              </div><!-- controls -->
            </section><!-- row -->

            <section class="row">
            <label class="col col-lg-4 control-label" for="disabled">Disabled</label>
              <div class="controls col col-lg-8">
                <%= f.label :disabled, class: "checkbox inline" do %>
          <%= f.check_box :disabled,:id=>'disablity_checkbox' %>
        <% end %>
         </div><!-- controls -->
        </section><!-- row -->
        <section class="row">
              <label class="col col-lg-4 control-label" for="disabilitydescription">Disability Description</label>
              <div class="controls col col-lg-8">
                <%= f.text_field :disability_description, :class=>"form-control" , :autocomplete=>"off",:id=>'disablity_description' %>
              </div><!-- controls -->
            </section><!-- row -->

          </fieldset>
          <div class = "actions col-md-5">
          <%= f.submit "Save", class: "btn btn-mini pull-right"%>
          <% if current_user.admin? %>
          <%= link_to controller: "users", action: "terminate", id: @user.id, method: "get", class: "btn btn-mini" do%>
          <span class = "glyphicon glyphicon-remove-sign"></span>Terminate <% end %>&nbsp;|&nbsp;
          <%= link_to controller: "users", action: "lock_user", id: @user.id, method: "get", class: "btn btn-mini" do%>
          <span class = "glyphicon glyphicon-lock"></span>Lock
          <% end %>
          <% end %>
          </div>
          <% end %>
          <div class = "modal-footer">

        </div>

      </div><!-- media-body -->
      </section><!-- media -->
      </div>


    </div>
</div>
</div>
</div>
</div>
